<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.zywl.app.defaultx.mapper.SignMapper">

   <insert id="insert" parameterType="Sign" useGeneratedKeys="true" keyProperty="id" keyColumn="id">
		insert into t_sign
		(
               `user_id`,
               `days`,
               `week_days`,
               `month_days`,
               `year_days`,
               `last_sign_time`,
               `sign_nums`,
               `total_reward`
               
		)
		values
		(
               #{userId},
               #{days},
               #{weekDays},
               #{monthDays},
               #{yearDays},
               #{lastSignTime},
               #{signNums},
               #{totalReward}
        
		)
	</insert>
	
	
	
	<select id="findOne" resultType="Sign">
	    select * from t_sign where user_id = #{userId} 
	</select>
	<select id="findUserSignInfo" resultType="Sign">
	    select * from t_sign where user_id = #{userId}
	</select>
	
	<update id="userSign" parameterType="Sign">
		update t_sign set days=days+1,week_days=#{weekDays},month_days=#{monthDays},year_days=#{yearDays},last_sign_time=#{lastSignTime} where user_id = #{userId}
	</update>
	
	
	<select id="findAll" resultType="Sign">
	    select * from t_sign
	</select>
	
</mapper>