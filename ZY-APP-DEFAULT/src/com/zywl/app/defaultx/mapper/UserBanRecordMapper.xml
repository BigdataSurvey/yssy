<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.zywl.app.defaultx.mapper.UserBanRecordMapper">

   <insert id="insert" parameterType="UserBanRecord" useGeneratedKeys="true" keyProperty="id" keyColumn="id">
		insert into t_user_ban_record(`user_id`,`user_no`,`user_name`,`mark`,`type`,`operator`,`ban_time`,`record_time`) values (#{userId},#{userNo},#{userName},#{mark},#{type},#{operator},#{banTime},#{recordTime})
	</insert>

	<sql id="conditions">
		<if test="userId != null">
			and user_id=#{userId}
		</if>

		<if test="userNo != null">
			and user_no=#{userNo}
		</if>

		<if test="userName != null">
			and user_name=#{userName}
		</if>

	</sql>

	<select id="countByConditions" resultType="Long">
		select count(1) from t_user_ban_record
		<where>
			<include refid="conditions"></include>
		</where>
	</select>
	
	<select id="findByConditions" resultType="UserBanRecord">
	    select * from t_user_ban_record
	    <where>
	    	<include refid="conditions"></include>
	    </where>
	    
		ORDER BY record_time desc
		<if test="start != null and limit != null">
	   	 limit #{start}, #{limit} 
	   	</if>
	</select>

</mapper>